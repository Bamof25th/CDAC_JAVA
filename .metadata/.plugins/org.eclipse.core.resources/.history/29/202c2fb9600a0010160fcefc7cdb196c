package com.banking.services;
import com.banking.main.BankAccount;

public class BankOperationImpl implements BankingOperation{

	BankAccount[] accounts;
    int count = 0;
    public BankOperationImpl(int size) {
    	accounts = new BankAccount[size];
    	System.out.println("Array Has been created");
    }    
	@Override
	public String openBankAccount(int acno, String fName, String Lname, double balance, String accType) {
		
		if (count< accounts.length) {
			accounts[count] = new BankAccount(acno, fName, Lname, balance, accType);
			count++ ;
			return "Account Created";
		}else {
			return "Bank Full please go!!" ;
		}
	}

	@Override
	public void displayAllAccounts() {
		for (BankAccount bankAcc : accounts) {
			System.out.println(bankAcc);
		}		
	}
	@Override
	public void addMoney(int idx , double paise) {
		if(idx >= 0 && idx <= count) {
			double newBal = accounts[idx].getBalance() + paise;
			accounts[idx].setBalance(newBal);
		}else {
			System.out.println("invalid Acno");
		}
	}
	@Override
	public void DoWithdrawl(int idx , double paise) {
		if(idx >= 0 && idx <= count) {
			double bal = accounts[idx].getBalance() - paise;
			accounts[idx].setBalance(bal);
			System.out.println("Money Withdrawn :"+paise);
		}else {
			System.out.println("invalid Acno");
		}		
	}
}
